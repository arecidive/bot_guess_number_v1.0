#  Telegram-bot "Угадай число"


## Описание проекта

Этот код реализует в чат-боте на Python игру "Угадай число" при помощи библиотеки aiogram. Бот умеет:

● считать количество игр и побед;

● сохранять зарегистрировшихся пользователей в нём;

● вести ТОП-игроков, которые одержали наибольшее количество побед;

● присылает вместе с сообщениями случайные фото котиков.

## Основной функционал бота

### /start

Команда /start запускает функцию handle_start_message. Функция проверяет, зарегистрирован ли пользователь в базе данных. Если нет, то добавляет его. 

Если игра не активна, то отправляется фото кота с текстом инструкции как начать игру.

Если игра активна, то отправляется фото кота с сообщением о некорректной комманде.

### /help

Команда /help запускает функцию handle_help_message. Функция проверяет, зарегистрирован ли пользователь в базе данных.

Если да, то отправляется фото кота с правилами игры. 

Если нет, то отправляется фото кота с сообщением, о необходимости зарегистрироваться для начала работы.

### /stat

Команда /stat запускает функцию handle_stat_message. Функция проверяет, зарегистрирован ли пользователь в базе данных и не играет ли он в данный момент. 

Если пользователь не играет и зарегистрирован, то отправляется фото кота со статистикой количества игр и побед пользователя. 

Если пользователь играет и зарегистрирован, то отправляется фото кота с сообщением о некорректной комманде. 

Если пользователь не зарегистрирован, то отправляется фото кота с сообщением, о необходимости зарегистрироваться для начала работы.

### /cancel

Команда /cancel запускает функцию handle_cancel_message. Функция проверяет, зарегистрирован ли пользователь в базе данных и играет ли он в данный момент. 

Если пользователь играет и зарегистрирован, то игра заканчивается и отправляется фото кота с предложением начать новую игру. 

Если пользователь не играет и зарегистрирован, то отправляется фото кота с сообщением о некорректной комманде.

Если пользователь не зарегистрирован, то отправляется фото кота с сообщением, о необходимости зарегистрироваться для начала работы.

### /top

Команда /top запускает функцию handle_top_message. Функция проверяет, зарегистрирован ли пользователь в базе данных и играет ли он в данный момент. 

Если пользователь не играет и зарегистрирован, то отправляется фото кота с сообщением, содержащем три лучших игрока.

Если пользователь играет и зарегистрирован, то отправляется фото кота с сообщением о некорректной комманде.

Если пользователь не зарегистрирован, то отправляется фото кота с сообщением, о необходимости зарегистрироваться для начала работы.

## Остальной функционал бота

● Действия для начала игры прописаны в texts.json ("user_answers_approval"). Работают только в меню бота.

● Действия для отказа от игры прописаны в texts.json ("user_answers_rejection"). Работают только в меню бота.

● Писать числа можно только во время игры, в противном случае бот выдаст сообщение, что сообщение пользователя некорректно.

● При вводе сообщения, который отсутсвует выше, бот выдаст сообщение, что сообщение пользователя некорректно.

## Стек технологий

- Python 3.11
- Aiogram 3.0


## Использование

Чтобы использовать этот код, необходимо зарегистрировать своего бота в Telegram и получить API-токен, который нужно присвоить переменной API_BOT.
Для запуска бота необходимо выполнить файл bot_number.py. При этом в консоль будут выводиться логи обо всех входящих сообщениях и действиях бота.
